/**
 * Badge Directive Global Styles
 *
 * These styles are applied to dynamically created badge elements
 * by the BadgeDirective. They need to be global because the directive
 * creates DOM elements outside of Angular's view encapsulation.
 */

/* ========================================
   Base Badge Styles (for directive)
   ======================================== */

.lib-badge {
  /* Default (primary) colors */
  --badge-bg: var(--lib-color-primary-500, #3b82f6);
  --badge-text: var(--lib-color-neutral-0, #ffffff);
  --badge-border: transparent;

  /* Sizing */
  --badge-height: 1.25rem;
  --badge-min-width: 1.25rem;
  --badge-padding-x: var(--lib-spacing-2, 0.5rem);
  --badge-font-size: var(--lib-font-size-xs, 0.75rem);

  /* Animation */
  --badge-pulse-color: var(--lib-color-primary-400, #60a5fa);

  display: inline-flex;
  align-items: center;
  justify-content: center;
  box-sizing: border-box;
  height: var(--badge-height);
  min-width: var(--badge-min-width);
  padding-inline: var(--badge-padding-x);
  background: var(--badge-bg);
  color: var(--badge-text);
  border: var(--lib-border-width-thin, 1px) solid var(--badge-border);
  font-family: var(--lib-font-family-base, system-ui, sans-serif);
  font-size: var(--badge-font-size);
  font-weight: var(--lib-font-weight-medium, 500);
  line-height: 1;
  white-space: nowrap;
  vertical-align: middle;
  border-radius: var(--lib-border-radius-full, 9999px);
  transition:
    transform var(--lib-transition-fast, 150ms ease),
    opacity var(--lib-transition-fast, 150ms ease),
    background var(--lib-transition-fast, 150ms ease);
}

/* ========================================
   Shapes
   ======================================== */

.lib-badge--rounded {
  border-radius: var(--lib-border-radius-md, 6px);
}

.lib-badge--pill {
  border-radius: var(--lib-border-radius-full, 9999px);
}

.lib-badge--square {
  border-radius: var(--lib-border-radius-sm, 2px);
}

.lib-badge--dot {
  --badge-height: 0.5rem;
  --badge-min-width: 0.5rem;
  padding: 0;
  border-radius: var(--lib-border-radius-full, 9999px);
}

/* ========================================
   Sizes
   ======================================== */

.lib-badge--xs {
  --badge-height: 1rem;
  --badge-min-width: 1rem;
  --badge-padding-x: var(--lib-spacing-1, 0.25rem);
  --badge-font-size: 0.625rem;
}

.lib-badge--sm {
  --badge-height: 1.25rem;
  --badge-min-width: 1.25rem;
  --badge-padding-x: var(--lib-spacing-2, 0.5rem);
  --badge-font-size: var(--lib-font-size-xs, 0.75rem);
}

.lib-badge--md {
  --badge-height: 1.5rem;
  --badge-min-width: 1.5rem;
  --badge-padding-x: var(--lib-spacing-2, 0.5rem);
  --badge-font-size: var(--lib-font-size-sm, 0.875rem);
}

.lib-badge--lg {
  --badge-height: 1.75rem;
  --badge-min-width: 1.75rem;
  --badge-padding-x: var(--lib-spacing-3, 0.75rem);
  --badge-font-size: var(--lib-font-size-sm, 0.875rem);
}

/* Dot size adjustments */
.lib-badge--dot.lib-badge--xs {
  --badge-height: 0.375rem;
  --badge-min-width: 0.375rem;
}

.lib-badge--dot.lib-badge--sm {
  --badge-height: 0.5rem;
  --badge-min-width: 0.5rem;
}

.lib-badge--dot.lib-badge--md {
  --badge-height: 0.625rem;
  --badge-min-width: 0.625rem;
}

.lib-badge--dot.lib-badge--lg {
  --badge-height: 0.75rem;
  --badge-min-width: 0.75rem;
}

/* ========================================
   Variants
   ======================================== */

.lib-badge--primary {
  --badge-bg: var(--lib-color-primary-500, #3b82f6);
  --badge-text: var(--lib-color-neutral-0, #ffffff);
  --badge-pulse-color: var(--lib-color-primary-400, #60a5fa);
}

.lib-badge--secondary {
  --badge-bg: var(--lib-color-neutral-600, #52525b);
  --badge-text: var(--lib-color-neutral-0, #ffffff);
  --badge-pulse-color: var(--lib-color-neutral-400, #a1a1aa);
}

.lib-badge--success {
  --badge-bg: var(--lib-color-success, #22c55e);
  --badge-text: var(--lib-color-neutral-0, #ffffff);
  --badge-pulse-color: var(--lib-color-success-light, #dcfce7);
}

.lib-badge--warning {
  --badge-bg: var(--lib-color-warning, #f59e0b);
  --badge-text: var(--lib-color-neutral-900, #18181b);
  --badge-pulse-color: var(--lib-color-warning-light, #fef3c7);
}

.lib-badge--error {
  --badge-bg: var(--lib-color-error, #ef4444);
  --badge-text: var(--lib-color-neutral-0, #ffffff);
  --badge-pulse-color: var(--lib-color-error-light, #fee2e2);
}

.lib-badge--info {
  --badge-bg: var(--lib-color-info, #0ea5e9);
  --badge-text: var(--lib-color-neutral-0, #ffffff);
  --badge-pulse-color: var(--lib-color-info-light, #e0f2fe);
}

.lib-badge--neutral {
  --badge-bg: var(--lib-color-neutral-200, #e4e4e7);
  --badge-text: var(--lib-color-neutral-700, #3f3f46);
  --badge-pulse-color: var(--lib-color-neutral-100, #f4f4f5);
}

/* ========================================
   Appearances
   ======================================== */

.lib-badge--outlined {
  background: transparent;
  border-color: var(--badge-bg);
  color: var(--badge-bg);
}

.lib-badge--soft.lib-badge--primary {
  --badge-bg: var(--lib-color-primary-100, #dbeafe);
  --badge-text: var(--lib-color-primary-700, #1d4ed8);
}

.lib-badge--soft.lib-badge--secondary {
  --badge-bg: var(--lib-color-neutral-200, #e4e4e7);
  --badge-text: var(--lib-color-neutral-700, #3f3f46);
}

.lib-badge--soft.lib-badge--success {
  --badge-bg: var(--lib-color-success-light, #dcfce7);
  --badge-text: var(--lib-color-success, #22c55e);
}

.lib-badge--soft.lib-badge--warning {
  --badge-bg: var(--lib-color-warning-light, #fef3c7);
  --badge-text: var(--lib-color-warning, #f59e0b);
}

.lib-badge--soft.lib-badge--error {
  --badge-bg: var(--lib-color-error-light, #fee2e2);
  --badge-text: var(--lib-color-error, #ef4444);
}

.lib-badge--soft.lib-badge--info {
  --badge-bg: var(--lib-color-info-light, #e0f2fe);
  --badge-text: var(--lib-color-info, #0ea5e9);
}

.lib-badge--soft.lib-badge--neutral {
  --badge-bg: var(--lib-color-neutral-100, #f4f4f5);
  --badge-text: var(--lib-color-neutral-600, #52525b);
}

.lib-badge--ghost {
  background: transparent;
  border-color: transparent;
}

/* ========================================
   Pulse Animation
   ======================================== */

.lib-badge--pulse {
  position: relative;
}

.lib-badge--pulse::before {
  content: '';
  position: absolute;
  inset: 0;
  border-radius: inherit;
  background: var(--badge-pulse-color);
  animation: lib-badge-pulse 1.5s cubic-bezier(0, 0, 0.2, 1) infinite;
  z-index: -1;
}

@keyframes lib-badge-pulse {
  0% {
    transform: scale(1);
    opacity: 0.7;
  }
  70%,
  100% {
    transform: scale(1.8);
    opacity: 0;
  }
}

/* ========================================
   Gradient Border Effect
   ======================================== */

.lib-badge--gradient {
  background:
    linear-gradient(var(--lib-color-neutral-0, #fff), var(--lib-color-neutral-0, #fff)) padding-box,
    linear-gradient(
        135deg,
        var(--lib-color-primary-500, #3b82f6),
        var(--lib-color-info, #0ea5e9),
        var(--lib-color-primary-600, #2563eb)
      )
      border-box;
  border: 2px solid transparent;
  color: var(--lib-color-primary-600, #2563eb);
}

.lib-badge--gradient.lib-badge--error {
  background:
    linear-gradient(var(--lib-color-neutral-0, #fff), var(--lib-color-neutral-0, #fff)) padding-box,
    linear-gradient(
        135deg,
        var(--lib-color-error, #ef4444),
        var(--lib-color-warning, #f59e0b),
        var(--lib-color-error, #ef4444)
      )
      border-box;
  color: var(--lib-color-error, #ef4444);
}

.lib-badge--gradient.lib-badge--success {
  background:
    linear-gradient(var(--lib-color-neutral-0, #fff), var(--lib-color-neutral-0, #fff)) padding-box,
    linear-gradient(
        135deg,
        var(--lib-color-success, #22c55e),
        var(--lib-color-info, #0ea5e9),
        var(--lib-color-success, #22c55e)
      )
      border-box;
  color: var(--lib-color-success, #22c55e);
}

/* ========================================
   Status Indicators
   ======================================== */

.lib-badge--status-online {
  --badge-bg: #22c55e;
}

.lib-badge--status-offline {
  --badge-bg: var(--lib-color-neutral-400, #a1a1aa);
}

.lib-badge--status-busy {
  --badge-bg: var(--lib-color-error, #ef4444);
}

.lib-badge--status-away {
  --badge-bg: var(--lib-color-warning, #f59e0b);
}

/* ========================================
   Overlay Positioning (for directive)
   ======================================== */

.lib-badge--overlay {
  position: absolute;
  z-index: var(--lib-z-index-popover, 1060);
}

.lib-badge--position-top-right {
  top: 0;
  right: 0;
  transform: translate(50%, -50%);
}

.lib-badge--position-top-left {
  top: 0;
  left: 0;
  transform: translate(-50%, -50%);
}

.lib-badge--position-bottom-right {
  bottom: 0;
  right: 0;
  transform: translate(50%, 50%);
}

.lib-badge--position-bottom-left {
  bottom: 0;
  left: 0;
  transform: translate(-50%, 50%);
}

.lib-badge--position-top-center {
  top: 0;
  left: 50%;
  transform: translate(-50%, -50%);
}

.lib-badge--position-bottom-center {
  bottom: 0;
  left: 50%;
  transform: translate(-50%, 50%);
}

.lib-badge--position-center-left {
  top: 50%;
  left: 0;
  transform: translate(-50%, -50%);
}

.lib-badge--position-center-right {
  top: 50%;
  right: 0;
  transform: translate(50%, -50%);
}

/* ========================================
   Reduced Motion
   ======================================== */

@media (prefers-reduced-motion: reduce) {
  .lib-badge--pulse::before {
    animation: none;
  }

  .lib-badge {
    transition: none;
  }
}
