/**
 * Badge Component Styles
 *
 * Features:
 * - 7 semantic variants
 * - 4 appearances (filled, outlined, soft, ghost)
 * - 4 sizes (xs, sm, md, lg)
 * - 4 shapes (rounded, pill, square, dot)
 * - Pulse animation
 * - Gradient border effect
 * - Status indicators
 * - Position overlay support
 */

/* ========================================
   CSS Custom Properties (Scoped)
   ======================================== */

:host {
  /* Default (primary) colors */
  --badge-bg: var(--lib-color-primary-500);
  --badge-text: var(--lib-color-neutral-0);
  --badge-border: transparent;

  /* Sizing */
  --badge-height: 1.25rem;
  --badge-min-width: 1.25rem;
  --badge-padding-x: var(--lib-spacing-2);
  --badge-font-size: var(--lib-font-size-xs);

  /* Animation */
  --badge-pulse-color: var(--lib-color-primary-400);

  display: inline-flex;
  align-items: center;
  justify-content: center;
  box-sizing: border-box;
}

/* ========================================
   Base Styles
   ======================================== */

:host {
  height: var(--badge-height);
  min-width: var(--badge-min-width);
  padding-inline: var(--badge-padding-x);
  background: var(--badge-bg);
  color: var(--badge-text);
  border: var(--lib-border-width-thin) solid var(--badge-border);
  font-family: var(--lib-font-family-base);
  font-size: var(--badge-font-size);
  font-weight: var(--lib-font-weight-medium);
  line-height: 1;
  white-space: nowrap;
  vertical-align: middle;
  transition:
    transform var(--lib-transition-fast),
    opacity var(--lib-transition-fast),
    background var(--lib-transition-fast);
}

.lib-badge__content {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: var(--lib-spacing-1);
}

/* ========================================
   Shapes
   ======================================== */

:host(.lib-badge--rounded) {
  border-radius: var(--lib-border-radius-md);
}

:host(.lib-badge--pill) {
  border-radius: var(--lib-border-radius-full);
}

:host(.lib-badge--square) {
  border-radius: var(--lib-border-radius-sm);
}

:host(.lib-badge--dot) {
  --badge-height: 0.5rem;
  --badge-min-width: 0.5rem;

  padding: 0;
  border-radius: var(--lib-border-radius-full);
}

/* ========================================
   Sizes
   ======================================== */

:host(.lib-badge--xs) {
  --badge-height: 1rem;
  --badge-min-width: 1rem;
  --badge-padding-x: var(--lib-spacing-1);
  --badge-font-size: 0.625rem;
}

:host(.lib-badge--sm) {
  --badge-height: 1.25rem;
  --badge-min-width: 1.25rem;
  --badge-padding-x: var(--lib-spacing-2);
  --badge-font-size: var(--lib-font-size-xs);
}

:host(.lib-badge--md) {
  --badge-height: 1.5rem;
  --badge-min-width: 1.5rem;
  --badge-padding-x: var(--lib-spacing-2);
  --badge-font-size: var(--lib-font-size-sm);
}

:host(.lib-badge--lg) {
  --badge-height: 1.75rem;
  --badge-min-width: 1.75rem;
  --badge-padding-x: var(--lib-spacing-3);
  --badge-font-size: var(--lib-font-size-sm);
}

/* Dot size adjustments */
:host(.lib-badge--dot.lib-badge--xs) {
  --badge-height: 0.375rem;
  --badge-min-width: 0.375rem;
}

:host(.lib-badge--dot.lib-badge--sm) {
  --badge-height: 0.5rem;
  --badge-min-width: 0.5rem;
}

:host(.lib-badge--dot.lib-badge--md) {
  --badge-height: 0.625rem;
  --badge-min-width: 0.625rem;
}

:host(.lib-badge--dot.lib-badge--lg) {
  --badge-height: 0.75rem;
  --badge-min-width: 0.75rem;
}

/* ========================================
   Variants (Filled appearance - default)
   ======================================== */

:host(.lib-badge--primary) {
  --badge-bg: var(--lib-color-primary-500);
  --badge-text: var(--lib-color-neutral-0);
  --badge-pulse-color: var(--lib-color-primary-400);
}

:host(.lib-badge--secondary) {
  --badge-bg: var(--lib-color-neutral-600);
  --badge-text: var(--lib-color-neutral-0);
  --badge-pulse-color: var(--lib-color-neutral-400);
}

:host(.lib-badge--success) {
  --badge-bg: var(--lib-color-success);
  --badge-text: var(--lib-color-neutral-0);
  --badge-pulse-color: var(--lib-color-success-light);
}

:host(.lib-badge--warning) {
  --badge-bg: var(--lib-color-warning);
  --badge-text: var(--lib-color-neutral-900);
  --badge-pulse-color: var(--lib-color-warning-light);
}

:host(.lib-badge--error) {
  --badge-bg: var(--lib-color-error);
  --badge-text: var(--lib-color-neutral-0);
  --badge-pulse-color: var(--lib-color-error-light);
}

:host(.lib-badge--info) {
  --badge-bg: var(--lib-color-info);
  --badge-text: var(--lib-color-neutral-0);
  --badge-pulse-color: var(--lib-color-info-light);
}

:host(.lib-badge--neutral) {
  --badge-bg: var(--lib-color-neutral-200);
  --badge-text: var(--lib-color-neutral-700);
  --badge-pulse-color: var(--lib-color-neutral-100);
}

/* ========================================
   Appearances
   ======================================== */

/* Outlined */
:host(.lib-badge--outlined) {
  background: transparent;
  border-color: var(--badge-bg);
  color: var(--badge-bg);
}

/* Soft */
:host(.lib-badge--soft.lib-badge--primary) {
  --badge-bg: var(--lib-color-primary-100);
  --badge-text: var(--lib-color-primary-700);
}

:host(.lib-badge--soft.lib-badge--secondary) {
  --badge-bg: var(--lib-color-neutral-200);
  --badge-text: var(--lib-color-neutral-700);
}

:host(.lib-badge--soft.lib-badge--success) {
  --badge-bg: var(--lib-color-success-light);
  --badge-text: var(--lib-color-success);
}

:host(.lib-badge--soft.lib-badge--warning) {
  --badge-bg: var(--lib-color-warning-light);
  --badge-text: var(--lib-color-warning);
}

:host(.lib-badge--soft.lib-badge--error) {
  --badge-bg: var(--lib-color-error-light);
  --badge-text: var(--lib-color-error);
}

:host(.lib-badge--soft.lib-badge--info) {
  --badge-bg: var(--lib-color-info-light);
  --badge-text: var(--lib-color-info);
}

:host(.lib-badge--soft.lib-badge--neutral) {
  --badge-bg: var(--lib-color-neutral-100);
  --badge-text: var(--lib-color-neutral-600);
}

/* Ghost */
:host(.lib-badge--ghost) {
  background: transparent;
  border-color: transparent;
}

/* ========================================
   Pulse Animation
   ======================================== */

:host(.lib-badge--pulse) {
  position: relative;
}

:host(.lib-badge--pulse)::before {
  content: '';
  position: absolute;
  inset: 0;
  border-radius: inherit;
  background: var(--badge-pulse-color);
  animation: badge-pulse 1.5s cubic-bezier(0, 0, 0.2, 1) infinite;
  z-index: -1;
}

@keyframes badge-pulse {
  0% {
    transform: scale(1);
    opacity: 0.7;
  }

  70%,
  100% {
    transform: scale(1.8);
    opacity: 0;
  }
}

/* ========================================
   Gradient Border Effect
   ======================================== */

:host(.lib-badge--gradient) {
  background:
    linear-gradient(var(--lib-color-neutral-0), var(--lib-color-neutral-0)) padding-box,
    linear-gradient(
        135deg,
        var(--lib-color-primary-500),
        var(--lib-color-info),
        var(--lib-color-primary-600)
      )
      border-box;
  border: 2px solid transparent;
  color: var(--lib-color-primary-600);
}

:host(.lib-badge--gradient.lib-badge--error) {
  background:
    linear-gradient(var(--lib-color-neutral-0), var(--lib-color-neutral-0)) padding-box,
    linear-gradient(
        135deg,
        var(--lib-color-error),
        var(--lib-color-warning),
        var(--lib-color-error)
      )
      border-box;
  color: var(--lib-color-error);
}

:host(.lib-badge--gradient.lib-badge--success) {
  background:
    linear-gradient(var(--lib-color-neutral-0), var(--lib-color-neutral-0)) padding-box,
    linear-gradient(
        135deg,
        var(--lib-color-success),
        var(--lib-color-info),
        var(--lib-color-success)
      )
      border-box;
  color: var(--lib-color-success);
}

/* ========================================
   Status Indicators
   ======================================== */

:host(.lib-badge--status-online) {
  --badge-bg: #22c55e;
}

:host(.lib-badge--status-offline) {
  --badge-bg: var(--lib-color-neutral-400);
}

:host(.lib-badge--status-busy) {
  --badge-bg: var(--lib-color-error);
}

:host(.lib-badge--status-away) {
  --badge-bg: var(--lib-color-warning);
}

/* ========================================
   Overlay Positioning (for directive)
   ======================================== */

.lib-badge--overlay {
  position: absolute;
  z-index: var(--lib-z-index-popover);
}

.lib-badge--position-top-right {
  top: 0;
  right: 0;
  transform: translate(50%, -50%);
}

.lib-badge--position-top-left {
  top: 0;
  left: 0;
  transform: translate(-50%, -50%);
}

.lib-badge--position-bottom-right {
  bottom: 0;
  right: 0;
  transform: translate(50%, 50%);
}

.lib-badge--position-bottom-left {
  bottom: 0;
  left: 0;
  transform: translate(-50%, 50%);
}

.lib-badge--position-top-center {
  top: 0;
  left: 50%;
  transform: translate(-50%, -50%);
}

.lib-badge--position-bottom-center {
  bottom: 0;
  left: 50%;
  transform: translate(-50%, 50%);
}

.lib-badge--position-center-left {
  top: 50%;
  left: 0;
  transform: translate(-50%, -50%);
}

.lib-badge--position-center-right {
  top: 50%;
  right: 0;
  transform: translate(50%, -50%);
}

/* ========================================
   Hidden State
   ======================================== */

:host(.lib-badge--hidden) {
  display: none !important;
}

/* ========================================
   Reduced Motion
   ======================================== */

@media (prefers-reduced-motion: reduce) {
  :host(.lib-badge--pulse)::before {
    animation: none;
  }

  :host {
    transition: none;
  }
}
